/*!xdGame-1.0.0.js 2017-09-09*/

function createGameData(){for(var r=getWhisk(),e=0;e<9;e++)for(var a=0;a<9;a++)primaryData[e][a]=getNewNum(primaryData[e][a],r);return primaryData}function getNewNum(r,e){for(var a=0;a<e.length;a++)if(e[a]==r)return e[(a+1)%e.length];return-1}function getWhisk(){for(var r,e,a,t=0;t<4;t++)r=parseInt(9*Math.random()),e=parseInt(9*Math.random()),a=primaryWhisk[r],primaryWhisk[r]=primaryWhisk[e],primaryWhisk[e]=a;return primaryWhisk}function getPositions(r){for(var e,a=new Array,t=0;t<r;t++)e=parseInt(9*Math.random())%8,a.push(e);return a}function isHole(r,e){for(var a=0;a<e.length;a++)if(e[a]==r)return!0;return!1}function newGame(){var r=document.getElementById("playContent");r.innerHTML="",dataArr=createGameData();for(var e=0;e<9;e++){for(var a=getPositions(parseInt(5*Math.random())),t="<tr>",n=0;n<9;n++){var i="area"+parseInt(e/3)+parseInt(n/3);t=isHole(n,a)?t+'<td class="hole '+i+'" onclick="fill(this)" id="cell'+e+n+'"></td>':t+'<td class="'+i+'" id="cell'+e+n+'">'+dataArr[e][n]+"</td>"}t+="</tr>",r.innerHTML+=t}}function fill(r){if(r.innerHTML!=curNum){var e=document.getElementById("playContent").getElementsByTagName("td"),a=!0,t=0;for(t=0;t<e.length;t++)(r.className.match(e[t].className)||e[t].id.match(r.id.substr(0,r.id.length-1))||e[t].id.charAt(e[t].id.length-1)==r.id.charAt(r.id.length-1))&&e[t].innerHTML==curNum&&(a=!1,setTimeout("reset('"+e[t].id+"','"+e[t].style.backgroundColor+"')",2e3),e[t].style.color="white",e[t].style.backgroundColor="red");for(a&&(r.innerHTML=curNum),t=0;t<e.length;t++)if(""==e[t].innerHTML)return;alert("success")}else r.innerHTML=""}function reset(r,e){document.getElementById(r).style.color="black",document.getElementById(r).style.backgroundColor=e}function resetGame(){var r=document.getElementById("playContent").getElementsByTagName("td");for(i=0;i<r.length;i++)r[i].className.match("hole")&&(r[i].innerHTML="")}function showAnswer(){for(var r=document.getElementById("playContent").getElementsByTagName("td"),e=0;e<9;e++)for(var a=0;a<9;a++)r[9*e+a].className.match("hole")&&(r[9*e+a].innerHTML=dataArr[e][a])}window.onload=function(){var r=document.getElementById("numChooseTable");for(var e in r.childNodes)if(1==r.childNodes[e].nodeType){var a=r.childNodes[e].childNodes[0].childNodes;for(var t in a)1==a[t].nodeType&&(a[t].onclick=function(){for(var r in this.parentNode.childNodes)1==this.parentNode.childNodes[r].nodeType&&(this.parentNode.childNodes[r].className="");this.className="cur",curNum=this.innerHTML})}};var curNum=1,primaryData=new Array(9);primaryData[0]=[7,8,6,5,4,1,2,9,3],primaryData[1]=[4,2,1,3,6,9,8,5,7],primaryData[2]=[5,3,9,8,7,2,4,6,1],primaryData[3]=[9,6,8,2,3,7,5,1,4],primaryData[4]=[2,4,3,6,1,5,7,8,9],primaryData[5]=[1,5,7,4,9,8,3,2,6],primaryData[6]=[6,7,2,9,8,4,1,3,5],primaryData[7]=[8,9,4,1,5,3,6,7,2],primaryData[8]=[3,1,5,7,2,6,9,4,8];var primaryWhisk=[1,2,3,4,5,6,7,8,9],dataArr;